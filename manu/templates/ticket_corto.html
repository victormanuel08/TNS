<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Ticket {{ request_api.prefix }}-{{ request_api.number }}</title>
    <style>
        body {
            font-family: 'Arial Narrow', Arial, sans-serif;
            font-size: 11px;
            line-height: 1.2;
            margin: 2mm;
            padding: 0;
            width: 76mm;
            max-width: 76mm;
            background: white;
        }
        
        .ticket-container {
            width: 100%;
        }
        
        .logo-section {
            text-align: center;
            margin-bottom: 2mm;
            padding-bottom: 2mm;
            border-bottom: 1px dashed #ccc;
        }
        
        .logo-image {
            max-width: 50mm;
            max-height: 25mm;
            display: block;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            border-bottom: 2px dashed #333;
            padding-bottom: 2mm;
            margin-bottom: 2mm;
        }
        
        .company-name {
            font-weight: bold;
            font-size: 13px;
            margin-bottom: 1mm;
            text-transform: uppercase;
        }
        
        .company-info {
            font-size: 10px;
            color: #666;
            margin-bottom: 0.5mm;
        }
        
        .document-info {
            text-align: center;
            margin: 2mm 0;
            font-size: 10px;
        }
        
        .items-section {
            margin: 2mm 0;
        }
        
        .item-line {
            margin: 1mm 0;
            font-size: 11px;
        }
        
        .item-name {
            font-weight: bold;
        }
        
        .item-quantity {
            color: #666;
        }
        
        .observations {
            margin: 3mm 0;
            padding: 2mm;
            background-color: #f9f9f9;
            border-radius: 2mm;
            font-size: 10px;
            border: 1px dashed #ccc;
        }
        
        .total {
            text-align: center;
            margin: 3mm 0;
            padding: 2mm;
            border-top: 2px dashed #333;
            border-bottom: 2px dashed #333;
            font-weight: bold;
            font-size: 13px;
        }
        
        .footer {
            text-align: center;
            margin-top: 3mm;
            font-size: 9px;
            border-top: 1px dashed #ccc;
            padding-top: 2mm;
        }
    </style>
</head>
<body>
    <div class="ticket-container">
        <!-- Logo (si existe) -->
        {% if logo_base64 %}
        <div class="logo-section">
            <img src="{{ logo_base64 }}" alt="Logo" class="logo-image">
        </div>
        {% endif %}
        
        <!-- Encabezado -->
        <div class="header">
            <div class="company-name">{{ request_api.company_name|default:"EMPRESA" }}</div>
            <div class="company-info">NIT: {{ request_api.company_nit|default:"" }}</div>
        </div>
        
        <!-- Información de la Factura -->
        <div class="document-info">
            <div><strong>Factura: {{ request_api.prefix }}-{{ request_api.number }}</strong></div>
            <div>Fecha: {{ request_api.date }}</div>
            <div>Hora: {{ request_api.time }}</div>
        </div>
        
        <!-- Items -->
        <div class="items-section">
            {% for item in request_api.invoice_lines %}
            <div class="item-line">
                <span class="item-quantity">{{ item.invoiced_quantity }}x</span>
                <span class="item-name">{{ item.description }}</span>
            </div>
            {% endfor %}
        </div>
        
        <!-- Observaciones -->
        {% if request_api.notes %}
        <div class="observations">
            <strong>Observaciones:</strong><br>
            {{ request_api.notes }}
        </div>
        {% endif %}
        
        <!-- Total -->
        <div class="total">
            TOTAL: ${{ request_api.legal_monetary_totals.payable_amount }}
        </div>
        
        <!-- Pie de Página -->
        <div class="footer">
        </div>
    </div>
</body>
</html>

